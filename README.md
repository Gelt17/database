# База данных книжного магазина

Проект базы данных для управления книжным магазином с использованием SQLAlchemy и PostgreSQL.

## Описание

Данный проект представляет собой схему базы данных для книжного магазина, реализованную на SQLAlchemy ORM. База данных спроектирована для учета книг, авторов, жанров, клиентов и обработки заказов.

## Структура базы данных

База данных включает следующие таблицы:

### 1. genre
- Хранит жанры книг
- Поля: id, название жанра

### 2. author
- Содержит информацию об авторах книг
- Поля: id, имя автора

### 3. book
- Информация о книгах
- Поля: id, название, цена, количество на складе, id жанра, id автора

### 4. city
- Города доставки и время доставки
- Поля: id, название города, время доставки (в днях)

### 5. client
- Данные клиентов магазина
- Поля: id, имя, email, id города

### 6. order
- Заказы клиентов
- Поля: id, пожелания покупателя, id клиента

### 7. order_book
- Связь между заказами и книгами (многие-ко-многим)
- Поля: id, id заказа, id книги, количество

### 8. step
- Этапы обработки заказов
- Поля: id, название этапа

### 9. order_step
- История обработки заказов
- Поля: id, id заказа, id этапа, дата начала, дата окончания

## Требования

- Python 3.12
- PostgreSQL 17
- SQLAlchemy 2.0+

## Установка и настройка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/Gelt17/database.git
cd database
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

3. Настройте подключение к базе данных:
   - Создайте файл `.env` в корневой директории проекта
   - Добавьте в него строку с параметрами подключения к PostgreSQL:
   
```
DATABASE_URL = "postgresql://username:password@localhost:5432/bookstore_db"
```

   Замените параметры на свои:
   - `username` - имя пользователя PostgreSQL
   - `password` - пароль
   - `localhost` - хост базы данных
   - `5432` - порт (если используете нестандартный порт)
   - `bookstore_db` - имя базы данных


## Модели данных

Основные модели SQLAlchemy включают:

- `Genre` - жанры книг
- `Author` - авторы книг
- `Book` - книги
- `City` - города доставки
- `Client` - клиенты
- `Order` - заказы
- `OrderBook` - связь заказов и книг
- `Step` - этапы обработки заказов
- `OrderStep` - история обработки заказов

## Примечания

- Проект использует SQLAlchemy ORM для работы с базой данных
- Для подключения к БД используется переменная окружения DATABASE_URL
- Все модели определены в файле models.py